I saw someone say that they solved this with recursion.

JUST. SAY. NO. TO. RECURSION. AND. OTHER. MADNESS. WHEN. POSSIBLE.

This isn't fast, but it gets the job done.

I <3 NY

---

"Everyone's Coming to New York"
John Carpenter from the album "Escape from New York (Original Film Soundtrack)"

To the cop
With a gun
The Big Apple is plenty of fun

Stab a priest
With a fork
And you'll spend your vacation in New York

Rob a bank
Take a truck
You can get here by stealing a buck

This is bliss
It's a lark
Buddy, everyone's coming to New York!

No more Yankees
Strike the word from your ears
Spin the roulette
There's no more opera at the Met

This is hell
This is fate
But now this is your world and it's great

So rejoice
Pop a cork
Buddy, everyone's coming to New York!

To the cop
With a gun
The Big Apple is plenty of fun

Stab a priest
With a fork
And you'll spend your vacation in New York

Rob a bank
Take a truck
You can get here by stealing a buck

This is bliss
It's a lark
Buddy, everyone's coming to New York!

This is hell
This is fate
But now this is your world and it's great

So rejoice
Pop a cork
Buddy, everyone's coming to New York!

No more Yankees
Strike the word from your ears
Spin the roulette
There's no more opera at the Met

This is hell
This is fate
But now this is your world and it's great

So rejoice
Pop a cork
Buddy, everyone's coming to New York!